# Maximo Manage module

Module to populate a gitops repo with the resources to provision Maximo-Applications


## Software dependencies

The module depends on the following software components:

### Terraform version

- \>= v0.15

### Terraform providers


None

### Module dependencies


- gitops - [github.com/cloud-native-toolkit/terraform-tools-gitops.git](https://github.com/cloud-native-toolkit/terraform-tools-gitops.git) (>= 1.1.0)
- mas_core - one of:
    - [github.com/cloud-native-toolkit/terraform-gitops-mas-core.git](https://github.com/cloud-native-toolkit/terraform-gitops-mas-core.git) (>= 1.2.0)
    - [github.com/cloud-native-toolkit/terraform-util-mas-core-ready.git](https://github.com/cloud-native-toolkit/terraform-util-mas-core-ready.git) (>= 1.0.0)
    - [github.com/cloud-native-toolkit/terraform-util-mas-core-existing.git](https://github.com/cloud-native-toolkit/terraform-util-mas-core-existing.git) (>= 1.0.0)
- storage_manager - [github.com/cloud-native-toolkit/terraform-util-storage-class-manager.git](https://github.com/cloud-native-toolkit/terraform-util-storage-class-manager.git) (>= 1.0.0)

## Example usage

```hcl
module "gitops-mas-manage" {
  source = "github.com/cloud-native-toolkit/terraform-gitops-mas-manage"

  core_namespace = module.mas_core_existing.core_namespace
  db2_data_storage_class = module.util-storage-class-manager.block_storage_class
  db2_dbname = var.gitops-mas-manage_db2_dbname
  db2_instance_name = var.gitops-mas-manage_db2_instance_name
  db2_meta_storage_class = module.util-storage-class-manager.rwx_storage_class
  demodata = var.gitops-mas-manage_demodata
  git_credentials = module.gitops_repo.git_credentials
  gitops_config = module.gitops_repo.gitops_config
  ibm_entitlement_secret = module.mas_core_existing.entitlement_secret_name
  kubeseal_cert = module.gitops_repo.sealed_secrets_cert
  mas_app_channel = var.gitops-mas-manage_mas_app_channel
  mas_config_scope = var.gitops-mas-manage_mas_config_scope
  mas_instance_id = module.mas_core_existing.mas_instance_id
  mas_workspace_id = module.mas_core_existing.mas_workspace_id
  server_name = module.gitops_repo.server_name
}

```

## Module details

### Inputs

| Name | Description | Required | Default | Source |
|------|-------------|---------|----------|--------|
| gitops_config | Config information regarding the gitops repo structure | true |  | gitops.gitops_config |
| git_credentials | The credentials for the gitops repo(s) | true |  | gitops.git_credentials |
| kubeseal_cert | The certificate/public key used to encrypt the sealed secrets | true |  | gitops.sealed_secrets_cert |
| server_name | The name of the server | false | default | gitops.server_name |
| core_namespace | The namespace where MAS Core has been installed | true |  | mas_core.core_namespace |
| ibm_entitlement_secret | The name of the secret where the entitlement key has been stored | true |  | mas_core.entitlement_secret_name |
| mas_instance_id | The id of the MAS instance created when core was installed | true |  | mas_core.mas_instance_id |
| mas_workspace_id | The id of the MAS workspace created when core was installed | true |  | mas_core.mas_workspace_id |
| db2_meta_storage_class | The storage class used for DB2 metadata. Must be RWX storage. | true |  | storage_manager.rwx_storage_class |
| db2_data_storage_class | The storage class used for DB2 data. Can be RWO. | true |  | storage_manager.block_storage_class |
| demodata | Flag indicating demo data should be provisioned in the database | true |  |  |
| db2_instance_name | The name of the db2 instance that will be provisioned | false | db2w-manage |  |
| mas_app_channel | The operator change from which manage will be installed | false | 8.4.x |  |
| mas_config_scope | The config scope for the MAS database | false | wsapp |  |
| db2_dbname | The name of the db2 instance that will be provisioned | false | MANAGE |  |

### Outputs

| Name | Description |
|------|-------------|
| name | The name of the module |
| branch | The branch where the module config has been placed |
| namespace | The namespace where the module will be deployed |
| server_name | The server where the module will be deployed |
| layer | The layer where the module is deployed |
| type | The type of module where the module is deployed |
| mas_workspace_id | The id of the mas app workspace deployed |
| mas_instance_id | The id of the mas instance deployed |
| mas_app_id | The name of the app (manage) |

## Resources

- [Documentation](https://operate.cloudnativetoolkit.dev)
- [Module catalog](https://modules.cloudnativetoolkit.dev)

> License: Apache License 2.0 | Generated by iascable (3.2.2)
